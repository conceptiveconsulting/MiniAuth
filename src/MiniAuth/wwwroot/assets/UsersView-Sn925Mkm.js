import{u as P,r as u,j as S,o as z,a as c,c as d,b as t,t as n,F as f,d as y,n as V,k as x,w as p,g as k,e as B,v as N,p as E,f as A,i as F}from"./index-l-SlCBvn.js";import{_ as T,s as v}from"./_plugin-vue_export-helper-Fz6tTbpC.js";const a=_=>(E("data-v-0fb0cc11"),_=_(),A(),_),D={class:"scrollable-container"},R=a(()=>t("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M7 12L12 12M12 12L17 12M12 12V7M12 12L12 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("circle",{cx:"12",cy:"12",r:"9",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),Z=a(()=>t("span",{class:"visually-hidden"},"Insert",-1)),q=[R,Z],G=a(()=>t("svg",{fill:"#000000",width:"40px",height:"40px",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z"})],-1)),J=a(()=>t("span",{class:"visually-hidden"},"Insert",-1)),K=[G,J],O=a(()=>t("div",{class:"col-sm-4"},null,-1)),Q={class:"table"},W={class:"table-dark"},X=a(()=>t("th",{hidden:""},"Email",-1)),Y=["onUpdate:modelValue"],tt=["onUpdate:modelValue"],et=a(()=>t("option",null,null,-1)),st=["value"],ot=["onUpdate:modelValue"],nt=["onUpdate:modelValue"],at={hidden:""},lt=["onUpdate:modelValue"],it={class:"form-check form-switch"},ct=["disabled","onUpdate:modelValue"],dt=["onClick"],rt=a(()=>t("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 52 52","enable-background":"new 0 0 52 52","xml:space":"preserve"},[t("g",null,[t("path",{d:`M42,23H10c-2.2,0-4,1.8-4,4v19c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V27C46,24.8,44.2,23,42,23z M31,44.5\r
		c-1.5,1-3.2,1.5-5,1.5c-0.6,0-1.2-0.1-1.8-0.2c-2.4-0.5-4.4-1.8-5.7-3.8l3.3-2.2c0.7,1.1,1.9,1.9,3.2,2.1c1.3,0.3,2.6,0,3.8-0.8\r
		c2.3-1.5,2.9-4.7,1.4-6.9c-0.7-1.1-1.9-1.9-3.2-2.1c-1.3-0.3-2.6,0-3.8,0.8c-0.3,0.2-0.5,0.4-0.7,0.6L26,37h-9v-9l2.6,2.6\r
		c0.4-0.4,0.9-0.8,1.3-1.1c2-1.3,4.4-1.8,6.8-1.4c2.4,0.5,4.4,1.8,5.7,3.8C36.2,36.1,35.1,41.7,31,44.5z`}),t("path",{d:"M10,18.1v0.4C10,18.4,10,18.3,10,18.1C10,18.1,10,18.1,10,18.1z"}),t("path",{d:`M11,19h4c0.6,0,1-0.3,1-0.9V18c0-5.7,4.9-10.4,10.7-10C32,8.4,36,13,36,18.4v-0.3c0,0.6,0.4,0.9,1,0.9h4\r
		c0.6,0,1-0.3,1-0.9V18c0-9.1-7.6-16.4-16.8-16c-8.5,0.4-15,7.6-15.2,16.1C10.1,18.6,10.5,19,11,19z`})])],-1)),ut=[rt],pt=["onClick"],ht=a(()=>t("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("g",{id:"System / Save"},[t("path",{id:"Vector",d:"M17 21.0002L7 21M17 21.0002L17.8031 21C18.921 21 19.48 21 19.9074 20.7822C20.2837 20.5905 20.5905 20.2843 20.7822 19.908C21 19.4806 21 18.921 21 17.8031V9.21955C21 8.77072 21 8.54521 20.9521 8.33105C20.9095 8.14 20.8393 7.95652 20.7432 7.78595C20.6366 7.59674 20.487 7.43055 20.1929 7.10378L17.4377 4.04241C17.0969 3.66374 16.9242 3.47181 16.7168 3.33398C16.5303 3.21 16.3242 3.11858 16.1073 3.06287C15.8625 3 15.5998 3 15.075 3H6.2002C5.08009 3 4.51962 3 4.0918 3.21799C3.71547 3.40973 3.40973 3.71547 3.21799 4.0918C3 4.51962 3 5.08009 3 6.2002V17.8002C3 18.9203 3 19.4796 3.21799 19.9074C3.40973 20.2837 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H7M17 21.0002V17.1969C17 16.079 17 15.5192 16.7822 15.0918C16.5905 14.7155 16.2837 14.4097 15.9074 14.218C15.4796 14 14.9203 14 13.8002 14H10.2002C9.08009 14 8.51962 14 8.0918 14.218C7.71547 14.4097 7.40973 14.7155 7.21799 15.0918C7 15.5196 7 16.0801 7 17.2002V21M15 7H9",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),vt=[ht],_t=["disabled","onClick"],wt=F('<svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-0fb0cc11><path d="M10 12V17" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0fb0cc11></path><path d="M14 12V17" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0fb0cc11></path><path d="M4 7H20" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0fb0cc11></path><path d="M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0fb0cc11></path><path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0fb0cc11></path></svg>',1),kt=[wt],gt={"aria-label":"Page navigation"},bt={class:"pagination justify-content-center"},mt=["onClick"],Ct={__name:"UsersView",setup(_){const{t:w}=P();u("Users");const g=u([]),M=u([]),b=u(10),i=u(0),m=u(0),C=e=>{i.value=e,h()},U=S(()=>{const e=Math.ceil(m.value/b.value);return Array.from({length:e},(l,s)=>s)}),h=async()=>{await v.post("api/getUsers",{pageSize:b.value,pageIndex:i.value}).then(e=>(m.value=e.totalItems,g.value=e.users,e.users)),M.value=await v.get("api/getRoles")},$=async()=>{confirm("Are you sure you want to insert?")&&g.value.push({Id:null,Enable:!0})},I=async e=>{confirm("Are you sure you want to delete?")&&await v.post("api/deleteUser",{Id:e}).then(async()=>{alert("Delete successfully"),await h()})},L=async e=>{confirm(w("please_confirm"))&&await v.post("api/saveUser",e).then(async()=>{alert(w("updated_successfully")),await h()})},j=async e=>{confirm(w("resetPasswordConfirm"))&&await v.post("api/resetPassword",e).then(async l=>{alert(w("new_password",[l.newPassword])),navigator.clipboard.writeText(l.newPassword)})};return z(async()=>{await h()}),(e,l)=>(c(),d("div",D,[t("div",{class:"row",style:{"padding-bottom":"10px","padding-top":"10px"}},[t("div",{class:"col-sm-8"},[t("button",{onClick:$,class:"btn",type:"button"},q),t("button",{onClick:h,class:"btn",type:"button"},K)]),O]),t("table",Q,[t("thead",null,[t("tr",W,[t("th",null,n(e.$t("UserName")),1),t("th",null,n(e.$t("Roles")),1),t("th",null,n(e.$t("FirstName")),1),t("th",null,n(e.$t("LastName")),1),X,t("th",null,n(e.$t("Enable")),1),t("th",null,n(e.$t("Action")),1)])]),t("tbody",null,[(c(!0),d(f,null,y(g.value,(s,r)=>(c(),d("tr",{key:r},[t("td",null,[p(t("input",{type:"text","onUpdate:modelValue":o=>s.Username=o},null,8,Y),[[k,s.Username]])]),t("td",null,[p(t("select",{multiple:"","onUpdate:modelValue":o=>s.Roles=o,class:"resizable",style:{height:"25px"}},[et,(c(!0),d(f,null,y(M.value,(o,H)=>(c(),d("option",{value:o.Id,key:H},n(o.Name),9,st))),128))],8,tt),[[B,s.Roles]])]),t("td",null,[p(t("input",{type:"text","onUpdate:modelValue":o=>s.First_name=o},null,8,ot),[[k,s.First_name]])]),t("td",null,[p(t("input",{type:"text","onUpdate:modelValue":o=>s.Last_name=o},null,8,nt),[[k,s.Last_name]])]),t("td",at,[p(t("input",{type:"mail","onUpdate:modelValue":o=>s.Mail=o},null,8,lt),[[k,s.Mail]])]),t("td",null,[t("div",it,[p(t("input",{disabled:s.Type=="miniauth",class:"form-check-input",type:"checkbox","onUpdate:modelValue":o=>s.Enable=o},null,8,ct),[[N,s.Enable]])])]),t("td",null,[t("button",{class:"btn",onClick:o=>j(s)},ut,8,dt),t("button",{class:"btn",onClick:o=>L(s)},vt,8,pt),t("button",{disabled:s.Type=="miniauth",class:"btn",onClick:o=>I(s.Id)},kt,8,_t)])]))),128))])]),t("nav",gt,[t("ul",bt,[t("li",{class:V(["page-item",{disabled:i.value===0}])},[t("button",{class:"page-link",onClick:l[0]||(l[0]=x(s=>C(i.value-1),["prevent"]))},n(e.$t("Previous")),1)],2),(c(!0),d(f,null,y(U.value,(s,r)=>(c(),d("li",{class:V(["page-item",{active:i.value===r}]),key:r},[t("button",{class:"page-link",onClick:x(o=>C(r),["prevent"])},n(r+1),9,mt)],2))),128)),t("li",{class:V(["page-item",{disabled:i.value>=Math.ceil(m.value/b.value)-1}])},[t("button",{class:"page-link",onClick:l[1]||(l[1]=x(s=>C(i.value+1),["prevent"]))},n(e.$t("Next")),1)],2)])])]))}},Vt=T(Ct,[["__scopeId","data-v-0fb0cc11"]]);export{Vt as default};
