import{u as z,r as p,f as B,o as j,a as i,c,b as e,w as n,v as u,g as q,t as a,F as g,d as C,n as M,h as x,e as m,i as P,j as D,p as H,k as K}from"./index-7uhYHvCj.js";import{_ as O,a as Z}from"./delete-xH6gjfA0.js";import{s as U}from"./service-LZZpIdq7.js";const G="data:image/svg+xml,%3csvg%20fill='%23000000'%20xmlns='http://www.w3.org/2000/svg'%20width='20px'%20height='20px'%20viewBox='0%200%2052%2052'%20enable-background='new%200%200%2052%2052'%20xml:space='preserve'%3e%3cg%3e%3cpath%20d='M42,23H10c-2.2,0-4,1.8-4,4v19c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V27C46,24.8,44.2,23,42,23z%20M31,44.5%20c-1.5,1-3.2,1.5-5,1.5c-0.6,0-1.2-0.1-1.8-0.2c-2.4-0.5-4.4-1.8-5.7-3.8l3.3-2.2c0.7,1.1,1.9,1.9,3.2,2.1c1.3,0.3,2.6,0,3.8-0.8%20c2.3-1.5,2.9-4.7,1.4-6.9c-0.7-1.1-1.9-1.9-3.2-2.1c-1.3-0.3-2.6,0-3.8,0.8c-0.3,0.2-0.5,0.4-0.7,0.6L26,37h-9v-9l2.6,2.6%20c0.4-0.4,0.9-0.8,1.3-1.1c2-1.3,4.4-1.8,6.8-1.4c2.4,0.5,4.4,1.8,5.7,3.8C36.2,36.1,35.1,41.7,31,44.5z'%20/%3e%3cpath%20d='M10,18.1v0.4C10,18.4,10,18.3,10,18.1C10,18.1,10,18.1,10,18.1z'%20/%3e%3cpath%20d='M11,19h4c0.6,0,1-0.3,1-0.9V18c0-5.7,4.9-10.4,10.7-10C32,8.4,36,13,36,18.4v-0.3c0,0.6,0.4,0.9,1,0.9h4%20c0.6,0,1-0.3,1-0.9V18c0-9.1-7.6-16.4-16.8-16c-8.5,0.4-15,7.6-15.2,16.1C10.1,18.6,10.5,19,11,19z'%20/%3e%3c/g%3e%3c/svg%3e",J=(_,v)=>{const f=_.__vccOpts||_;for(const[k,y]of v)f[k]=y;return f},h=_=>(H("data-v-edb65bec"),_=_(),K(),_),Q={class:"scrollable-container"},W={class:"row",style:{"padding-bottom":"10px","padding-top":"10px"}},X={class:"col-sm-12"},Y=["title"],ee=h(()=>e("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 12L12 12M12 12L17 12M12 12V7M12 12L12 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("circle",{cx:"12",cy:"12",r:"9",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),te=h(()=>e("span",{class:"visually-hidden"},"Insert",-1)),oe=[ee,te],le=["title"],se=h(()=>e("svg",{fill:"#000000",width:"40px",height:"40px",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z"})],-1)),ae=h(()=>e("span",{class:"visually-hidden"},"Insert",-1)),ne=[se,ae],de=h(()=>e("div",{class:"col-sm-4"},null,-1)),ie={class:"table table-hover"},ce={class:"table-dark"},ue=["title","onClick"],re=h(()=>e("img",{src:O},null,-1)),pe=[re],he=["onClick"],me=h(()=>e("img",{src:G},null,-1)),_e=[me],ve=["disabled","onClick"],be=h(()=>e("img",{src:Z},null,-1)),fe=[be],ke=["onUpdate:modelValue"],ye={class:"hover"},we={class:"hover-default"},ge={key:0},Ce={key:0},Ue={class:"hover-show"},Ve=["disabled","value","onUpdate:modelValue"],$e=["for"],Ee=["onUpdate:modelValue"],Ne=["onUpdate:modelValue"],Me=["onUpdate:modelValue"],xe=["onUpdate:modelValue"],Le=["onUpdate:modelValue"],Pe={class:"form-check form-switch"},Ie=["onUpdate:modelValue"],Fe={class:"form-check form-switch"},Se=["onUpdate:modelValue"],Re={class:"form-check form-switch"},Te=["onUpdate:modelValue"],Ae={class:"form-check form-switch"},ze=["onUpdate:modelValue"],Be={class:"form-check form-switch"},je=["onUpdate:modelValue"],qe=["onUpdate:modelValue"],De=["onUpdate:modelValue"],He={"aria-label":"Page navigation"},Ke={class:"pagination justify-content-center"},Oe=["onClick"],Ze={class:"modal fade",id:"editmodal",tabindex:"-1","aria-labelledby":"myModalLabel","aria-hidden":"true"},Ge={class:"modal-dialog modal-dialog-centered"},Je={class:"modal-content"},Qe=D('<div class="modal-header bg-white" data-v-edb65bec><h5 class="modal-title" data-v-edb65bec><svg width="40px" height="40px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-edb65bec><path d="M11 15C10.1183 15 9.28093 14.8098 8.52682 14.4682C8.00429 14.2315 7.74302 14.1131 7.59797 14.0722C7.4472 14.0297 7.35983 14.0143 7.20361 14.0026C7.05331 13.9914 6.94079 14 6.71575 14.0172C6.6237 14.0242 6.5425 14.0341 6.46558 14.048C5.23442 14.2709 4.27087 15.2344 4.04798 16.4656C4 16.7306 4 17.0485 4 17.6841V19.4C4 19.9601 4 20.2401 4.10899 20.454C4.20487 20.6422 4.35785 20.7951 4.54601 20.891C4.75992 21 5.03995 21 5.6 21H8.4M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7ZM12.5898 21L14.6148 20.595C14.7914 20.5597 14.8797 20.542 14.962 20.5097C15.0351 20.4811 15.1045 20.4439 15.1689 20.399C15.2414 20.3484 15.3051 20.2848 15.4324 20.1574L19.5898 16C20.1421 15.4477 20.1421 14.5523 19.5898 14C19.0376 13.4477 18.1421 13.4477 17.5898 14L13.4324 18.1574C13.3051 18.2848 13.2414 18.3484 13.1908 18.421C13.1459 18.4853 13.1088 18.5548 13.0801 18.6279C13.0478 18.7102 13.0302 18.7985 12.9948 18.975L12.5898 21Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-edb65bec></path></svg></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-edb65bec></button></div>',1),We={class:"modal-body"},Xe={key:0},Ye={for:"userName"},et={for:"roles"},tt={style:{height:"100px","scroll-behavior":"smooth","overflow-y":"auto"}},ot=["disabled","value"],lt=["for"],st={for:"firstName"},at={for:"lastName"},nt=h(()=>e("label",{for:"email"},"Email:",-1)),dt={for:"empNo"},it={for:"enable"},ct={class:"form-check form-switch"},ut={class:"modal-footer"},rt={type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},pt={__name:"UsersView",setup(_){const{t:v}=z();p("Users");const f=p([]),k=p([]),y=p(10),b=p(0),$=p(0),E=p(""),N=o=>{b.value=o,w()},I=B(()=>{const o=Math.ceil($.value/y.value);return Array.from({length:o},(s,t)=>t)}),w=async()=>{await U.post("api/getUsers",{pageSize:y.value,pageIndex:b.value,search:E.value}).then(o=>($.value=o.totalItems,f.value=o.users,o.users)),k.value=await U.get("api/getRoles")},F=p(!1),d=p(null),S=async()=>{confirm("Are you sure you want to insert?")&&f.value.push({Id:null,Enable:!0,Roles:[]})},R=async o=>{confirm("Are you sure you want to delete?")&&await U.post("api/deleteUser",{Id:o}).then(async()=>{alert("Delete successfully"),await w()})},L=async o=>{confirm(v("please_confirm"))&&await U.post("api/saveUser",o).then(async s=>{alert(v("updated_successfully")),(o.Id==null||o.Id==null)&&(alert(v("new_password",[s.newPassword])),navigator.clipboard.writeText(s.newPassword))})},T=async o=>{confirm(v("resetPasswordConfirm"))&&await U.post("api/resetPassword",o).then(async s=>{alert(v("new_password",[s.newPassword])),navigator.clipboard.writeText(s.newPassword)})};return j(async()=>{await w()}),(o,s)=>(i(),c("div",Q,[e("div",W,[e("div",X,[e("button",{title:o.$t("add"),onClick:S,class:"btn",type:"button"},oe,8,Y),e("button",{title:o.$t("refresh"),onClick:w,class:"btn",type:"button"},ne,8,le),n(e("input",{style:{float:"right",height:"40px",border:"0","border-bottom":"1px solid black",outline:"0"},type:"text",placeholder:"Search","aria-label":"Search","onUpdate:modelValue":s[0]||(s[0]=t=>E.value=t),onKeyup:s[1]||(s[1]=q(t=>w(),["enter"]))},null,544),[[u,E.value]])]),de]),e("table",ie,[e("thead",null,[e("tr",ce,[e("th",null,a(o.$t("Action")),1),e("th",null,a(o.$t("UserName")),1),e("th",null,a(o.$t("Roles")),1),e("th",null,a(o.$t("Email")),1),e("th",null,a(o.$t("PhoneNumber")),1),e("th",null,a(o.$t("FirstName")),1),e("th",null,a(o.$t("LastName")),1),e("th",null,a(o.$t("Employee_Number")),1),e("th",null,a(o.$t("Enable")),1),e("th",null,a(o.$t("Email Confirmed")),1),e("th",null,a(o.$t("PhoneNumber Confirmed")),1),e("th",null,a(o.$t("Two Factor Enabled")),1),e("th",null,a(o.$t("Lockout Enabled")),1),e("th",null,a(o.$t("Lockout End")),1),e("th",null,a(o.$t("Access Failed Count")),1)])]),e("tbody",null,[(i(!0),c(g,null,C(f.value,(t,r)=>(i(),c("tr",{key:r},[e("td",null,[e("button",{title:o.$t("Save"),class:"btn",onClick:l=>L(t)},pe,8,ue),e("button",{class:"btn",onClick:l=>T(t)},_e,8,he),e("button",{disabled:(t==null?void 0:t.Type)=="miniauth",class:"btn",onClick:l=>R(t.Id)},fe,8,ve)]),e("td",null,[n(e("input",{class:"input_no_border",type:"text","onUpdate:modelValue":l=>t.Username=l},null,8,ke),[[u,t.Username]])]),e("td",null,[e("div",ye,[e("div",we,[t.Roles.length==0?(i(),c("div",ge,"N/A")):(i(!0),c(g,{key:1},C(k.value,(l,V)=>(i(),c("div",{key:V},[t.Roles.includes(l.Id)?(i(),c("span",Ce,a(l.Name),1)):P("",!0)]))),128))]),e("div",Ue,[(i(!0),c(g,null,C(k.value,(l,V)=>(i(),c("div",{class:"form-check",key:V},[n(e("input",{disabled:t.Type=="miniauth"||l.Enable==!1,class:"role_checkbox form-check-input",type:"checkbox",value:l.Id,"onUpdate:modelValue":A=>t.Roles=A},null,8,Ve),[[m,t.Roles]]),e("label",{class:"form-check-label",for:"role_"+V},a(l.Name),9,$e)]))),128))])])]),e("td",null,[n(e("input",{class:"input_no_border",type:"mail","onUpdate:modelValue":l=>t.Mail=l},null,8,Ee),[[u,t.Mail]])]),e("td",null,[n(e("input",{class:"input_no_border",type:"text","onUpdate:modelValue":l=>t.PhoneNumber=l},null,8,Ne),[[u,t.PhoneNumber]])]),e("td",null,[n(e("input",{class:"input_no_border",type:"text","onUpdate:modelValue":l=>t.First_name=l},null,8,Me),[[u,t.First_name]])]),e("td",null,[n(e("input",{class:"input_no_border",type:"text","onUpdate:modelValue":l=>t.Last_name=l},null,8,xe),[[u,t.Last_name]])]),e("td",null,[n(e("input",{class:"input_no_border",type:"text","onUpdate:modelValue":l=>t.Emp_no=l},null,8,Le),[[u,t.Emp_no]])]),e("td",null,[e("div",Pe,[n(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":l=>t.Enable=l},null,8,Ie),[[m,t.Enable]])])]),e("td",null,[e("div",Fe,[n(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":l=>t.EmailConfirmed=l},null,8,Se),[[m,t.EmailConfirmed]])])]),e("td",null,[e("div",Re,[n(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":l=>t.PhoneNumberConfirmed=l},null,8,Te),[[m,t.PhoneNumberConfirmed]])])]),e("td",null,[e("div",Ae,[n(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":l=>t.TwoFactorEnabled=l},null,8,ze),[[m,t.TwoFactorEnabled]])])]),e("td",null,[e("div",Be,[n(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":l=>t.LockoutEnabled=l},null,8,je),[[m,t.LockoutEnabled]])])]),e("td",null,[n(e("input",{class:"input_no_border",type:"datetime-local","onUpdate:modelValue":l=>t.LockoutEnd=l},null,8,qe),[[u,t.LockoutEnd]])]),e("td",null,[n(e("input",{readonly:"",class:"input_no_border",type:"text","onUpdate:modelValue":l=>t.AccessFailedCount=l},null,8,De),[[u,t.AccessFailedCount]])])]))),128))])]),e("nav",He,[e("ul",Ke,[e("li",{class:M(["page-item",{disabled:b.value===0}])},[e("button",{class:"page-link",onClick:s[2]||(s[2]=x(t=>N(b.value-1),["prevent"]))},a(o.$t("Previous")),1)],2),(i(!0),c(g,null,C(I.value,(t,r)=>(i(),c("li",{class:M(["page-item",{active:b.value===r}]),key:r},[e("button",{class:"page-link",onClick:x(l=>N(r),["prevent"])},a(r+1),9,Oe)],2))),128)),e("li",{class:M(["page-item",{disabled:b.value>=Math.ceil($.value/y.value)-1}])},[e("button",{class:"page-link",onClick:s[3]||(s[3]=x(t=>N(b.value+1),["prevent"]))},a(o.$t("Next")),1)],2)])]),e("div",null,[e("div",Ze,[e("div",Ge,[e("div",Je,[Qe,e("div",We,[F.value?(i(),c("form",Xe,[e("label",Ye,a(o.$t("UserName"))+":",1),n(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[4]||(s[4]=t=>d.value.Username=t),id:"userName",required:""},null,512),[[u,d.value.Username]]),e("label",et,a(o.$t("Roles"))+":",1),e("div",tt,[(i(!0),c(g,null,C(k.value,(t,r)=>(i(),c("div",{class:"form-check",key:r},[n(e("input",{disabled:d.value.Type=="miniauth"||t.Enable==!1,class:"role_checkbox form-check-input",type:"checkbox",value:t.Id,"onUpdate:modelValue":s[5]||(s[5]=l=>d.value.Roles=l)},null,8,ot),[[m,d.value.Roles]]),e("label",{class:"form-check-label",for:"role_"+r},a(t.Name),9,lt)]))),128))]),e("label",st,a(o.$t("FirstName"))+":",1),n(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[6]||(s[6]=t=>d.value.First_name=t),id:"firstName",required:""},null,512),[[u,d.value.First_name]]),e("label",at,a(o.$t("LastName"))+":",1),n(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[7]||(s[7]=t=>d.value.Last_name=t),id:"lastName",required:""},null,512),[[u,d.value.Last_name]]),nt,n(e("input",{class:"form-control",type:"email","onUpdate:modelValue":s[8]||(s[8]=t=>d.value.Mail=t),id:"email",required:""},null,512),[[u,d.value.Mail]]),e("label",dt,a(o.$t("Employee_Number"))+":",1),n(e("input",{class:"form-control",type:"text","onUpdate:modelValue":s[9]||(s[9]=t=>d.value.Emp_no=t),id:"empNo",required:""},null,512),[[u,d.value.Emp_no]]),e("label",it,a(o.$t("Enable"))+":",1),e("div",ct,[n(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=t=>d.value.Enable=t)},null,512),[[m,d.value.Enable]])])])):P("",!0)]),e("div",ut,[e("button",rt,a(o.$t("Cancel")),1),e("button",{type:"button",onClick:s[11]||(s[11]=t=>L(d.value)),class:"btn btn-primary"},a(o.$t("Save")),1)])])])])])]))}},vt=J(pt,[["__scopeId","data-v-edb65bec"]]);export{vt as default};
